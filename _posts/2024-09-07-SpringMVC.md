---
title: Spring MVC 이해하기 
date: 2024-09-07 16:20:00 +09:00
categories: [Java&Spring, Spring]
tags:
  [
    Spring,
    Java,
    MVC,
    SpringMVC,
  ]
---

<br/>
<br/>

# Spring MVC
Spring MVC는 웹 애플리케이션을 개발하는 데 널리 사용되는 프레임워크로, Model-View-Controller(MVC) 패턴을 기반으로 한다.  
<br/>
이를 알아보기 위해 MVC 패턴에 대해 간략히 알아보자. 

<br/>
* * *
<br/>

## MVC 패턴 개요
MVC 패턴은 애플리케이션을 <span style="color: #0550ae; font-weight: bold">세 가지 주요 구성 요소로 나누어 각 구성 요소의 역할을 명확히 함으로써 개발의 효율성을 높인다.</span>

<br/>

### 1. Model (모델)
모델은 애플리케이션의 데이터와 비즈니스 로직을 관리한다. 데이터베이스와의 상호작용을 통해 정보를 저장하고 가공하며, 이러한 데이터를 뷰에 전달하는 역할을 한다. 예를 들어, 사용자 정보를 담고 있는 `User` 클래스는 모델의 일종이다.  

### 2. View (뷰)
뷰는 사용자 인터페이스를 담당한다. 사용자가 보게 될 모든 시각적 요소를 포함하며, 모델에서 전달받은 데이터를 기반으로 화면을 구성한다. HTML, JSP, Thymeleaf 등 다양한 형식으로 출력을 지원하여 사용자에게 정보를 효과적으로 전달한다.  

### 3. Controller (컨트롤러)
컨트롤러는 사용자의 입력을 처리하고, 그에 따라 모델과 뷰를 업데이트한다. 사용자의 요청을 받아 모델의 데이터를 변경하거나, 어떤 정보를 뷰에 표시할지를 결정한다. 예를 들어, 사용자가 로그인 버튼을 클릭하면, 해당 요청을 처리하는 컨트롤러가 동작한다.  

<br/>
* * *
<br/>

## Spring MVC 구성 요소
Spring MVC는 MVC 패턴을 기반으로 한 다양한 구성 요소로 이루어져 있다.  

### 1. Model (모델)
클라이언트의 요청에 대한 처리 결과 데이터를 담고 있으며, 이를 통해 뷰에 전달할 정보를 제공한다. 예를 들어, 사용자 등록 후 성공 메시지나 오류 메시지를 포함한 데이터가 모델에 담길 수 있다.  

### 2. View (뷰)
모델에서 전달받은 데이터를 기반으로 웹 브라우저에 표시할 리소스를 생성한다. Spring MVC는 HTML, PDF, JSON 등의 다양한 형식으로 출력을 지원하며, 이는 다양한 클라이언트 환경에 최적화된 응답이 가능하다.  

### 3. Controller (컨트롤러) 
클라이언트의 요청을 수신하고, 비즈니스 로직을 처리한 후 모델을 생성하여 뷰로 전달하는 역할이다. 각 요청에 대한 적절한 로직을 구현하여, 사용자 경험을 향상시키는 데 도움을 준다.  

<br/>

> 그럼 MVC와 Spring MVC는 뭐가 다르지? 
## MVC와 Spring MVC의 차이점
1. **프레임워크의 지원**:
   - MVC는 디자인 패턴인 반면, Spring MVC는 이 패턴을 구현한 프레임워크이다. Spring MVC는 MVC 패턴을 기반으로 한 다양한 기능을 제공하여 개발을 용이하게 한다.
2. **구현의 복잡성**:
   - 기본 MVC 패턴은 간단하게 구현할 수 있지만, Spring MVC는 복잡한 애플리케이션을 위한 다양한 기능을 포함하고 있어 더 많은 설정과 구성이 필요하다.
3. **기능성**:
   - Spring MVC는 유효성 검사, 데이터 바인딩, 국제화(i18n), 보안 등의 다양한 기능을 기본적으로 지원한다. 기본 MVC 패턴에서는 이러한 기능을 수동으로 구현해야 한다.
4. **테스트 지원**:
   - Spring MVC는 테스트를 위한 다양한 유틸리티를 제공하여 테스트하기 쉬운 구조를 제공한다. 반면 기본 MVC 패턴은 테스트를 위한 지원이 부족할 수 있다.  

<br/>
* * *
<br/>

## MVC1 vs MVC2
- **MVC1**: 
  - JSP가 뷰와 컨트롤러의 역할을 모두 수행하여 코드가 복잡해지고 가독성이 떨어진다. 이로 인해 유지보수가 어렵고, 재사용성이 떨어지는 단점이 있다.  

- **MVC2**: 
  - 요청을 처리하는 서블릿이 추가되어 MVC1의 문제점을 해결한다. 요청을 서블릿이 받아 비즈니스 로직을 처리하고, JSP에 데이터를 전달하여 뷰를 생성한다. 이 구조는 분리된 책임을 통해 코드의 가독성과 유지보수성을 높인다.  


<br/>
* * *
<br/>

## Spring MVC 사용법
1. **프로젝트 설정**:
   - Spring Boot를 사용하면 더 간편하게 Spring MVC 프로젝트를 설정할 수 있다. Maven이나 Gradle을 통해 필요한 의존성을 추가한다.

2. **컨트롤러 생성**:
   - @Controller 어노테이션을 사용하여 컨트롤러 클래스를 정의하고, 요청을 처리하는 메서드에 @RequestMapping 어노테이션을 사용한다.

   ```java
   @Controller
   public class UserController {
       @GetMapping("/users")
       public String listUsers(Model model) {
           model.addAttribute("users", userService.getAllUsers());
           return "userList";
       }
   }
   ```

3. **서비스 및 DAO 구현**:
   - 비즈니스 로직을 처리하기 위한 서비스 클래스를 작성하고, 데이터베이스와의 상호작용을 위한 DAO 클래스를 구현한다.

4. **뷰 생성**:
   - JSP나 Thymeleaf 파일을 생성하여 사용자가 볼 수 있는 UI를 설계한다. 컨트롤러에서 전달된 데이터를 기반으로 동적으로 콘텐츠를 생성한다.

5. **애플리케이션 실행**:
   - Spring Boot를 사용하면 내장된 서버에서 쉽게 애플리케이션을 실행할 수 있다. `@SpringBootApplication` 어노테이션을 통해 애플리케이션의 진입점을 정의한다.  

<br/>

## Spring MVC의 동작 과정
1. **DispatcherServlet**: 
   - 모든 HTTP 요청을 처음으로 수신합니다. 이 컴포넌트는 요청을 적절한 컨트롤러로 위임하는 역할을 한다.

2. **HandlerMapping**: 
   - 클라이언트의 요청에 따라 적절한 컨트롤러를 찾습니다. URL 패턴과 메서드에 따라 매핑된다.

3. **HandlerAdapter**: 
   - 매핑된 컨트롤러의 실행을 요청합니다. 이 단계에서 요청에 맞는 메서드가 호출된다.

4. **Controller**: 
   - 요청을 처리하고, 결과를 모델에 저장합니다. 반환된 결과는 ModelAndView 객체로 변환되어 뷰와 데이터를 포함한다.

5. **ModelAndView**: 
   - 모델과 뷰 정보를 함께 담고 있는 객체입니다. 이를 통해 어떤 뷰를 사용할지와 함께 필요한 데이터를 전달힌다.

6. **View Resolver**: 
   - View Name을 기반으로 실제 JSP 파일이나 다른 뷰 리소스를 찾습니다. 이 단계에서 뷰의 경로와 이름이 결정된다.

7. **View**: 
   - 최종 화면을 생성하여 클라이언트에게 응답합니다. 이 과정에서 모델의 데이터가 뷰에 반영되어 사용자에게 시각적으로 나타난다.  

<br/>

### 동작 구조 요약
클라이언트의 요청이 들어오면, `DispatcherServlet`이 이를 수신하고 적절한 컨트롤러로 위임한다. 컨트롤러는 서비스와 DAO를 통해 비즈니스 로직을 처리한 후, 결과를 모델에 담아 다시 `DispatcherServlet`으로 전달한다. 이후, `DispatcherServlet`은 `ViewResolver`를 통해 적절한 JSP를 찾아 최종 응답을 생성한다.  

이러한 구조를 통해 Spring MVC는 효율적이고 유연한 웹 애플리케이션 개발을 지원한다. 개발자는 각 구성 요소의 역할을 명확히 이해하고 구현할 수 있으므로, 복잡한 웹 애플리케이션도 쉽게 관리할 수 있다.  

<br/>
* * *
<br/>

## Spring MVC의 장점
1. **유연한 구조**:
   - MVC 패턴을 기반으로 하여 애플리케이션의 각 구성 요소를 분리할 수 있어 유지보수성이 높인다.

2. **테스트 용이성**:
   - 컨트롤러와 모델이 분리되어 있어 단위 테스트가 용이하다. 이를 통해 비즈니스 로직을 독립적으로 테스트할 수 있다.

3. **다양한 뷰 기술 지원**:
   - JSP, Thymeleaf, FreeMarker 등 다양한 뷰 기술을 지원하여 개발자가 선호하는 방식으로 UI를 구성할 수 있다.

4. **RESTful API 지원**:
   - RESTful 웹 서비스 개발을 쉽게 할 수 있는 기능을 제공하여 현대적인 웹 애플리케이션 개발에 적합하다.

5. **풍부한 커뮤니티와 문서**:
   - Spring 프레임워크는 널리 사용되며, 방대한 자료와 커뮤니티 지원이 있어 문제 해결에 도움이 된다.

## Spring MVC의 단점

1. **학습 곡선**:
   - Spring MVC의 전체 구조와 개념을 이해하는 데 시간이 걸릴 수 있다. 특히 초보자에게는 다소 복잡하게 느껴질 수 있다.

2. **설정의 복잡성**:
   - XML 설정이나 어노테이션 기반 설정 등이 필요해 초기 설정이 복잡할 수 있다.

3. **성능 이슈**:
   - 복잡한 구조로 인해 성능이 떨어질 수 있으며, 특히 대량의 요청을 처리할 때 주의가 필요하다.  

<br/>
<br/>
<br/>
* * *
<br/>
<br/>
<br/>

> **Reference**  
1. <a href="https://velog.io/@do_dam/Spring-MVC%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80-%EC%8A%A4%ED%94%84%EB%A7%81-MVC-%EA%B5%AC%EC%A1%B0-%EC%9D%B4%ED%95%B4" style="text-decoration: none; color: #757575;">[Spring] Spring MVC란 무엇인가? - 스프링 MVC 구조 이해</a>
2. <a href="https://ittrue.tistory.com/234" style="text-decoration-line: none; color: #757575;"> [Spring MVC] 스프링 MVC란 무엇인가? - 스프링 MVC 구조 이해 </a>
